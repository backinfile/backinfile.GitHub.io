var GlobalCoor={rate:1,offset:[0,0],windowSize:[],cardSize:[143,200],borderRadius:5,slotShrink:.7,slotCenterOffset:[20,-20],slotOffset:[0,-40],get:function(attr){return Array.isArray(this[attr])?[this.rate*(this[attr][0]+this.offset[0]),this.rate*(this[attr][1]+this.offset[1])]:this.rate*(this[attr]+this.offset[0])}},GlobalLoopCall={inter:null,loopList:[],start:function(){var my=this;my.inter=setInterval((function(){my.loopList.forEach(loop=>{loop[1].call(loop[0])})}),1e3/60)},add:function(obj,func){this.loopList.push([obj,func])}};function Init(){GlobalCoor.windowSize=[window.innerWidth,window.innerHeight],GlobalLoopCall.start()}class Game{constructor(){}getSlotPosition(hero,pos){let screenCenterX=GlobalCoor.windowSize[0]/2,screenCenterY=GlobalCoor.windowSize[1]/2;if(0==hero){let x,y;return[screenCenterX+GlobalCoor.slotOffset[0]+(pos-2)*(GlobalCoor.cardSize[0]+GlobalCoor.slotCenterOffset[0]),screenCenterY+GlobalCoor.slotCenterOffset[1]+GlobalCoor.cardSize[1]/2+GlobalCoor.slotOffset[1]]}{let x,y;return[screenCenterX+GlobalCoor.slotOffset[0]+(2-pos)*(GlobalCoor.cardSize[0]+GlobalCoor.slotCenterOffset[0]),screenCenterY-GlobalCoor.slotCenterOffset[1]-GlobalCoor.cardSize[1]/2+GlobalCoor.slotOffset[1]]}}}class Net{constructor(url,args){var queryUrl=Object.keys(args).map((function(key){return encodeURIComponent(key)+"="+encodeURIComponent(args[key])})).join("&");console.log(queryUrl),this.ws=new WebSocket(url+"?"+queryUrl)}}$((function(){Init();let pos=(new Game).getSlotPosition(0,4),pos2=(new Game).getSlotPosition(1,4);var card=new Card("img/人物-元素使者.jpg","img/卡背-人物.jpg"),card2=new Card("img/人物-元素使者.jpg","img/卡背-人物.jpg");card.rotateY(180).rotateZ(-90).rotateZ(0).rotateY(0).scale(GlobalCoor.slotShrink).move(pos[0],pos[1]).callback((function(){console.log("in")})),card2.move(pos2[0],pos2[1]).scale(GlobalCoor.slotShrink),card.setClickState(!0,(function(){console.log("innn")})),card.setDragState(!1,(function(){console.log("dragStart")}),(function(){console.log("dragEnd")}))}));